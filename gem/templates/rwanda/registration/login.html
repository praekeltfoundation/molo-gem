{% extends "base.html" %}
{% block content %}
<div class="profiles">
  <div class="profiles__wrapper">
    <div class="heading heading--hero">
      <h1 class="heading__component">{% trans "Log in" %}</h1>
    </div>

    <div class="profiles__inner">
      <div class="profiles__cta-caption">
        <h2 class="heading__headline">{% trans "Not a member yet?" %}</h2>
        <a href="{% url "molo.profiles:user_register" %}" class="call-to-action__item--text">{% trans "Register" %}</a>
      </div>
      <h3 class="heading__subtitle">
        {% trans "Login by signing in below." %}</h3>

      <form method="post" action="" class="profiles__form" novalidate>
      {% csrf_token %}
        {% if form.errors %}
        <span class="error">
        {% trans "Your username and pin do not match. Please try again." %}
        </span>
        {% endif %}
        <fieldset>
          <label for="id_username">{% trans "Username" %}</label>
          {{form.username}}
        </fieldset>
        <fieldset>
          <label for="id_password">{% trans "4-digit pin" %}</label>
          {{ form.password }}
          {{ form.password.errors}}
          <span class="input-hint">({% trans "Eg.: 2086" %})</span>
        </fieldset>
        <input type="submit" value="{% trans "Log in" %}" class="call-to-action__button call-to-action__button--primary">
        <input type="hidden" name="next" value="{% if request.GET.next %}{{ request.GET.next }}{% else %}{% url "molo.profiles:login_success" %}{% endif %}" class="call-to-action__button call-to-action__button--primary" />
      </form>
      <a href="{% url "molo.profiles:forgot_password" %}" class="call-to-action__item--text">{% trans "Forgot PIN" %}</a>
    </div>
  </div>
</div>
{% endblock %}
